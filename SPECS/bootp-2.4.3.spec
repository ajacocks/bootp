%global debug_package %{nil}
%global _default_patch_fuzz 2

Summary: bootp/DHCP server and test programs
Name: bootp
Version: 2.4.3
Release: 8
License: BSD
Group: Networking/Daemons
Source0: http://ftp.funet.fi/pub/unix/tcpip/bootp-2.4.3.tar.Z
Patch0: bootp-2.4.3-linux.patch
Patch1: dhcp.patch
Patch2: bootp-2.4.3-glibc.patch
Patch3: bootp-2.4.3-pathfix.patch
Patch4: bootp-2.4.3-errno.patch
#Buildroot: /var/tmp/bootp-root
#Requires: inetd
Summary(de): bootp/DHCP-Server und Testprogramme
Summary(fr): Serveur bootp/DHCP et programmes test
Summary(tr): \x62\x6f\x6f\x74\x70\x2f\x44\x48\x43\x50\x20\x73\x75\x6e\x75\x63\x75\x73\x75\x20\x76\x65\x20\x74\x65\x73\x74\x20\x70\x72\x6f\x67\x72\x61\x6d\x6c\x61\x72\xc3\xbd

%changelog
* Mon Jun 01 1998 Prospector System <bugs@redhat.com>

- translations modified for de


* Wed May 13 1998 Alan Cox <alan@redhat.com>

- Fixed a potential problem with the bootfile buffer being non terminated
  allowing a theoretical exploit. We now check the buffer as we walk it. Bug
  noted and reported by Chris Evans.

* Tue May 05 1998 Prospector System <bugs@redhat.com>

- translations modified for de, fr, tr


* Sun Oct 19 1997 Erik Troan <ewt@redhat.com>

- minor spec file cleanups
- now uses a build root and %attr
- requires inetd server

* Thu Jul 10 1997 Erik Troan <ewt@redhat.com>

- built against glibc

%description
This is a server for the bootp protocol; which allows network
administrators to setup networking information for clients via an
/etc/bootptab on a server so that the clients can automatically get
their networking information. While this server includes rudimentary
DHCP support as well, we suggest using the dhcpd package if you need
DHCP support, as it is much more complete.

%description -l de
\x44\x69\x65\x73\x20\x69\x73\x74\x20\x65\x69\x6e\x20\x53\x65\x72\x76\x65\x72\x20\x66\xc3\xbc\x72\x20\x64\x61\x73\x20\x62\x6f\x6f\x74\x70\x2d\x50\x72\x6f\x74\x6f\x6b\x6f\x6c\x6c\x2c\x20\x64\x65\x72\x20\x4e\x65\x74\x7a\x77\x65\x72\x6b\x61\x64\x6d\x69\x6e\x69\x73\x74\x72\x61\x74\x6f\x72\x65\x6e\x0a\x64\x61\x73\x20\x45\x69\x6e\x72\x69\x63\x68\x74\x65\x6e\x20\x76\x6f\x6e\x20\x4e\x65\x74\x7a\x69\x6e\x66\x6f\x73\x20\x66\xc3\xbc\x72\x20\x43\x6c\x69\x65\x6e\x74\x73\x20\xc3\xbc\x62\x65\x72\x20\x65\x69\x6e\x20\x2f\x65\x74\x63\x2f\x62\x6f\x6f\x74\x70\x74\x61\x62\x20\x61\x75\x66\x20\x65\x69\x6e\x65\x6d\x0a\x53\x65\x72\x76\x65\x72\x20\x67\x65\x73\x74\x61\x74\x74\x65\x74\x2c\x20\x73\x6f\x20\x64\x61\xc3\x9f\x20\x64\x69\x65\x20\x43\x6c\x69\x65\x6e\x74\x73\x20\x69\x68\x72\x65\x20\x49\x6e\x66\x6f\x73\x20\x61\x75\x74\x6f\x6d\x61\x74\x69\x73\x63\x68\x20\x62\x65\x6b\x6f\x6d\x6d\x65\x6e\x2e\x0a\x4f\x62\x77\x6f\x68\x6c\x20\x64\x69\x65\x73\x65\x72\x20\x53\x65\x72\x76\x65\x72\x20\x72\x75\x64\x69\x6d\x65\x6e\x74\xc3\xa4\x72\x65\x6e\x20\x44\x48\x43\x50\x2d\x53\x75\x70\x70\x6f\x72\x74\x20\x62\x65\x69\x6e\x68\x61\x6c\x74\x65\x74\x2c\x0a\x65\x6d\x70\x66\x65\x68\x6c\x65\x6e\x20\x77\x69\x72\x20\x64\x65\x6e\x20\x45\x69\x6e\x73\x61\x74\x7a\x20\x64\x65\x73\x20\x64\x68\x63\x70\x64\x2d\x50\x61\x6b\x65\x74\x73\x2c\x20\x77\x65\x6e\x6e\x20\x53\x69\x65\x20\x44\x48\x43\x50\x2d\x55\x6e\x74\x65\x72\x73\x74\xc3\xbc\x74\x7a\x75\x6e\x67\x0a\x77\xc3\xbc\x6e\x73\x63\x68\x65\x6e\x2c\x20\x77\x65\x69\x6c\x20\x73\x69\x65\x20\x64\x61\x6d\x69\x74\x20\x75\x6d\x66\x61\x73\x73\x65\x6e\x64\x65\x72\x65\x6e\x20\x53\x75\x70\x70\x6f\x72\x74\x20\x65\x72\x68\x61\x6c\x74\x65\x6e\x2e

%description -l fr
\x43\x27\x65\x73\x74\x20\x75\x6e\x20\x73\x65\x72\x76\x65\x75\x72\x20\x70\x6f\x75\x72\x20\x6c\x65\x20\x70\x72\x6f\x74\x6f\x63\x6f\x6c\x65\x20\x62\x6f\x6f\x74\x70\x2c\x20\x71\x75\x69\x20\x70\x65\x72\x6d\x65\x74\x20\x61\x75\x78\x20\x61\x64\x6d\x69\x6e\x69\x73\x74\x72\x61\x74\x65\x75\x72\x73\x0a\x72\xc3\xa9\x73\x65\x61\x75\x20\x64\x65\x20\x63\x6f\x6e\x66\x69\x67\x75\x72\x65\x72\x20\x6c\x65\x73\x20\x69\x6e\x66\x6f\x72\x6d\x61\x74\x69\x6f\x6e\x73\x20\x70\x6f\x75\x72\x20\x6c\x65\x73\x20\x63\x6c\x69\x65\x6e\x74\x73\x20\x72\xc3\xa9\x73\x65\x61\x75\x20\x76\x69\x61\x0a\x6c\x65\x20\x66\x69\x63\x68\x69\x65\x72\x20\x2f\x65\x74\x63\x2f\x62\x6f\x6f\x74\x70\x74\x61\x62\x20\x73\x75\x72\x20\x75\x6e\x20\x73\x65\x72\x76\x65\x75\x72\x20\x64\x65\x20\x74\x65\x6c\x6c\x65\x20\x6d\x61\x6e\x69\xc3\xa8\x72\x65\x20\x71\x75\x65\x20\x6c\x65\x73\x20\x63\x6c\x69\x65\x6e\x74\x73\x0a\x70\x75\x69\x73\x73\x65\x6e\x74\x20\x61\x75\x74\x6f\x6d\x61\x74\x69\x71\x75\x65\x6d\x65\x6e\x74\x20\x6f\x62\x74\x65\x6e\x69\x72\x20\x6c\x65\x73\x20\x69\x6e\x66\x6f\x72\x6d\x61\x74\x69\x6f\x6e\x73\x2e\x20\x42\x69\x65\x6e\x20\x71\x75\x65\x20\x6c\x65\x20\x73\x65\x72\x76\x65\x75\x72\x0a\x63\x6f\x6d\x70\x72\x65\x6e\x6e\x65\x20\x61\x75\x73\x73\x69\x20\x75\x6e\x20\x73\x75\x70\x70\x6f\x72\x74\x20\x72\x75\x64\x69\x6d\x65\x6e\x74\x61\x69\x72\x65\x20\x70\x6f\x75\x72\x20\x64\x68\x63\x70\x2c\x20\x6e\x6f\x75\x73\x20\x72\x65\x63\x6f\x6d\x6d\x61\x6e\x64\x6f\x6e\x73\x0a\x64\x27\x75\x74\x69\x6c\x69\x73\x65\x72\x20\x6c\x65\x20\x70\x61\x63\x6b\x61\x67\x65\x20\x64\x68\x63\x70\x20\x73\x69\x20\x76\x6f\x75\x73\x20\x64\xc3\xa9\x73\x69\x72\x65\x7a\x20\x75\x6e\x20\x73\x75\x70\x70\x6f\x72\x74\x20\x64\x68\x63\x70\x2c\x20\x63\x61\x72\x0a\x69\x6c\x20\x65\x73\x74\x20\x62\x65\x61\x75\x63\x6f\x75\x70\x20\x70\x6c\x75\x73\x20\x63\x6f\x6d\x70\x6c\x65\x74\x2e

%description -l tr
\x62\x6f\x6f\x74\x70\x20\x73\x75\x6e\x75\x63\x75\x73\x75\x2c\x20\x69\x73\x74\x65\x6d\x63\x69\x6c\x65\x72\x69\x6e\x20\x61\xc3\xb0\x20\x62\x69\x6c\x67\x69\x6c\x65\x72\x69\x6e\x69\x20\x73\x75\x6e\x75\x63\x75\x20\xc3\xbc\x7a\x65\x72\x69\x6e\x64\x65\x6b\x69\x20\x62\x69\x72\x20\x64\x6f\x73\x79\x61\x64\x61\x6e\x0a\x61\x6c\x6d\x61\x6c\x61\x72\xc3\xbd\x6e\x61\x20\x6f\x6c\x61\x6e\x61\x6b\x20\x76\x65\x72\x69\x72\x2e\x20\x42\x75\x20\x73\x75\x6e\x75\x63\x75\x20\x74\x65\x6d\x65\x6c\x20\x44\x48\x43\x50\x20\x64\x65\x73\x74\x65\xc3\xb0\x69\x6e\x69\x20\x69\xc3\xa7\x65\x72\x6d\x65\x6b\x6c\x65\x20\x62\x69\x72\x6c\x69\x6b\x74\x65\x2c\x0a\x44\x48\x43\x50\x20\x64\x65\x73\x74\x65\xc3\xb0\x69\x6e\x65\x20\x67\x65\x72\x65\x6b\x20\x64\x75\x79\x75\x6c\x61\x6e\x20\x64\x75\x72\x75\x6d\x6c\x61\x72\x64\x61\x20\x64\x68\x63\x70\x64\x20\x70\x61\x6b\x65\x74\x69\x6e\x69\x6e\x20\x6b\x75\x6c\x6c\x61\x6e\xc3\xbd\x6d\xc3\xbd\x20\xc3\xb6\x6e\x65\x72\x69\x6c\x69\x72

%prep
%setup
%patch0 -p1
%patch1 -p1
%patch2 -p1
%patch3 -p1
%patch4 -p1

%build
make linux

%install
rm -rf $RPM_BUILD_ROOT
mkdir -p $RPM_BUILD_ROOT/usr/sbin
mkdir -p $RPM_BUILD_ROOT/usr/man/man5
mkdir -p $RPM_BUILD_ROOT/usr/man/man8
mkdir -p $RPM_BUILD_ROOT/usr/share
make DESTDIR=$RPM_BUILD_ROOT install
make DESTDIR=$RPM_BUILD_ROOT install.man
mv $RPM_BUILD_ROOT/usr/man $RPM_BUILD_ROOT/usr/share/man

%clean
rm -rf $RPM_BUILD_ROOT

%files
%attr(-,root,root) /usr/share/man/man5/bootptab.5.gz
%attr(-,root,root) /usr/share/man/man8/bootpd.8.gz
%attr(-,root,root) /usr/share/man/man8/bootpef.8.gz
%attr(-,root,root) /usr/share/man/man8/bootptest.8.gz
%attr(-,root,root) /usr/sbin/bootpd
%attr(-,root,root) /usr/sbin/bootpef
%attr(-,root,root) /usr/sbin/bootpgw
%attr(-,root,root) /usr/sbin/bootptest
